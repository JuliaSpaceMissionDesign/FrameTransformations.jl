<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>01 - Frame System · FrameTransformations.jl</title><meta name="title" content="01 - Frame System · FrameTransformations.jl"/><meta property="og:title" content="01 - Frame System · FrameTransformations.jl"/><meta property="twitter:title" content="01 - Frame System · FrameTransformations.jl"/><meta name="description" content="Documentation for FrameTransformations.jl."/><meta property="og:description" content="Documentation for FrameTransformations.jl."/><meta property="twitter:description" content="Documentation for FrameTransformations.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="FrameTransformations.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">FrameTransformations.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>01 - Frame System</a><ul class="internal"><li><a class="tocitem" href="#Basic-Constructors"><span>Basic Constructors</span></a></li><li><a class="tocitem" href="#Ephemerides-Support"><span>Ephemerides Support</span></a></li></ul></li><li><a class="tocitem" href="../t01_axes/">02 - Axes</a></li><li><a class="tocitem" href="../t02_points/">03 - Points</a></li><li><a class="tocitem" href="../t03_cr3bp/">04 - Use Case: CR3BP</a></li><li><a class="tocitem" href="../t04_hifi/">05 - Use Case: High Fidelity</a></li><li><a class="tocitem" href="../t05_multithread/">06 - Multithreading</a></li></ul></li><li><a class="tocitem" href="../../benchmarks/">Benchmarks</a></li><li><span class="tocitem">Modules</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Frames</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Modules/frames_api/">Public API</a></li><li><a class="tocitem" href="../../Modules/frames_lapi/">Low-level API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Orient</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Modules/orient_api/">Public API</a></li><li><a class="tocitem" href="../../Modules/orient_lapi/">Low-level API</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Utils</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Modules/utils_api/">Public API</a></li><li><a class="tocitem" href="../../Modules/utils_lapi/">Low-level API</a></li></ul></li></ul></li><li><a class="tocitem" href="../../roadmap/">Roadmap</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>01 - Frame System</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>01 - Frame System</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/FrameTransformations.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/FrameTransformations.jl/blob/main/docs/src/Tutorials/t00_frames.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="tutorial_00_frames"><a class="docs-heading-anchor" href="#tutorial_00_frames">Frame System Overview</a><a id="tutorial_00_frames-1"></a><a class="docs-heading-anchor-permalink" href="#tutorial_00_frames" title="Permalink"></a></h1><p>The core object of <code>FrameTransformations</code> is the <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a>, which provides the capability to compute relative position, orientation and their time derivatives up to order 3 (jerk), between standard and user-defined point and axes. It works by creating two separate graphs that silently store and manage all the parent-child relationships between the user-registered axes and points, in the form of <a href="../../Modules/frames_lapi/#FrameTransformations.Frames.FramePointNode"><code>Frames.FramePointNode</code></a> and <a href="../../Modules/frames_lapi/#FrameTransformations.Frames.FrameAxesNode"><code>Frames.FrameAxesNode</code></a>. </p><p>These two objects define two precise entities: </p><ul><li><strong>Axes</strong>: defines an orientation in space. These are related each other by means of a <a href="../../Modules/frames_api/#FrameTransformations.Frames.Rotation"><code>Rotation</code></a> transformation which relate one axes to a parent axes in a certain time interval.</li><li><strong>Points</strong>: defines a location in space. These are related each other by means of a <code>Translation</code>   transformation which relate one point to a parent point in a particular axes in a certain    time interval.</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>A single <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a> instance simultaneously handles both the axes and point graphs, regardless of what the user registers in it. For instance, if no points are added, the point graph will remain empty.</p></div></div><p>Additionally, any node can have several childs, each with different transformations with respect to the parent node. Moreover, nodes can be <strong>created</strong> independenlty of each other (by means of the <a href="../../Modules/frames_api/#FrameTransformations.Frames.@axes"><code>@axes</code></a>, and <a href="../../Modules/frames_api/#FrameTransformations.Frames.@point"><code>@point</code></a> macros). However, they shall be <strong>registered</strong> within the <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a> before being used in a transformation or as parents of other nodes.</p><h2 id="Basic-Constructors"><a class="docs-heading-anchor" href="#Basic-Constructors">Basic Constructors</a><a id="Basic-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Constructors" title="Permalink"></a></h2><p>The creation of a generic <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a> requires the definition of the maximum desired transformation order and of its <code>DataType</code>, which in most applications is a <code>Float64</code>. The transformation order is always one greater than the maximum desired time derivative. For instance,  if the user only desires to compute position and velocity components (i.e., order 1 time-derivative), the transformation order to be used is 2. Thus, the maximum allowed transformation order is 4. </p><p>In this example, we highlight the most basic way to initialise a <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; F = FrameSystem{2, Float64}()</code><code class="nohighlight hljs ansi" style="display:block;">FrameSystem{2, Float64, BarycentricDynamicalTime, JSMDUtils.NullEphemerisProvider}(
  eph: JSMDUtils.NullEphemerisProvider(),
  points: EMPTY
  axes: EMPTY
)</code></pre><p>From this example, you can see that within the frame system there are both point and axes graphs. However, at the moment they are completely empty since the graph was just created.</p><p>Each <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a> object is assigned a reference timescale that is used to perform  computations with epochs and to parse ephemeris files. The default timescale is the <code>BarycentricDynamicalTime</code>, however, the user is free to select the most suited timescale for his applications. In this example, we set the <code>InternationalAtomicTime</code> as the reference scale.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; F = FrameSystem{2, Float64, InternationalAtomicTime}()</code><code class="nohighlight hljs ansi" style="display:block;">FrameSystem{2, Float64, InternationalAtomicTime, JSMDUtils.NullEphemerisProvider}(
  eph: JSMDUtils.NullEphemerisProvider(),
  points: EMPTY
  axes: EMPTY
)</code></pre><h2 id="Ephemerides-Support"><a class="docs-heading-anchor" href="#Ephemerides-Support">Ephemerides Support</a><a id="Ephemerides-Support-1"></a><a class="docs-heading-anchor-permalink" href="#Ephemerides-Support" title="Permalink"></a></h2><p>In certain scenarios, the transformations require usage of binary ephemeris kernels, e.g., the JPL&#39;s DE440 files. To support this applications, an ephemeris provider can be associated to a <a href="../../Modules/frames_api/#FrameTransformations.Frames.FrameSystem"><code>FrameSystem</code></a>. Since this package leverages a set of standard interfaces, any ephemeris reader that exposes JSMD-compatible interfaces can be used as a backend in FrameTransformations. Currently, the only two supported readers are our own <a href="https://github.com/JuliaSpaceMissionDesign/Ephemerides.jl">Ephemerides.jl</a> or <a href="https://github.com/JuliaSpaceMissionDesign/CalcephEphemeris.jl">CalcephEphemeris.jl</a>. Although the former only can only parse binary PCK/SPK kernels, it seamlessly integrates with <a href="https://github.com/JuliaSpaceMissionDesign/Ephemerides.jl">ForwardDiff</a> since it is completely written in Julia.</p><p>Once the desired ephemeris provider is created, it can be associated to the frame system object. However, in this case the reference timescale is retrieved from the ephemeris kernels and cannot be specified by the user. In this example we begin loading an old DE421 kernerl to pass to the  ephemeris reader.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Ephemerides, Downloads</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; url = &quot;https://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/planets/a_old_versions/de421.bsp&quot;;</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; eph = EphemerisProvider(Downloads.download(url))</code><code class="nohighlight hljs ansi" style="display:block;">1-kernel EphemerisProvider:
 &quot;/tmp/jl_RenSL0bCZA&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; F = FrameSystem{2, Float64}(eph)</code><code class="nohighlight hljs ansi" style="display:block;">FrameSystem{2, Float64, BarycentricDynamicalTime, Ephemerides.EphemerisProvider}(
  eph: 1-kernel EphemerisProvider,
  points: EMPTY
  axes: EMPTY
)</code></pre><p>As you can see, the default <code>NullEphemerisProvider</code> has been replaced by the user-constructed one. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../t01_axes/">02 - Axes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.0 on <span class="colophon-date" title="Friday 29 September 2023 16:56">Friday 29 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
